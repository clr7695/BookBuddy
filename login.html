<!--Login Page-->
<html>
    <script src="js-sdk/dist/pocketbase.umd.js"></script>
    <script type="text/javascript">
        const pb = new PocketBase("http://127.0.0.1:8090")

        async function login() {
            try {
                const authData = await pb.collection('users').authWithPassword(
                    document.getElementById("username1").value,
                    document.getElementById("password1").value,
                );
                window.location.href = "landingpage.html";
            } catch (error) {
                if(error.message.includes("Failed to authenticate.")) {
                        alert("Username or Password is wrong. Please try again.");
                } else {
                    alert(error);
                }
            }
        }
    </script>    
    <head>
        <title>Login to Book Buddy</title>
        <link rel="stylesheet" href="login.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Lora">
    </head>
    <body>
        <header>
            <ul>
                <li><img src="logo.png" class="logo"></li>
                <li><a href="index.html">About Us</a></li>
                <!--Add a link for every page here-->
                <li><a href="login.html" class="active" id="log">Login</a></li>
            </ul>
        </header>
        <main>
            <h1>Login to Book Buddy</h1>
            <form method="POST" action="" onsubmit="return false">
                <label for="username1">Email:</label>
                <input type="text" id="username1"/><br>
                <label for="password1">Password:</label>
                <input type="password" id="password1" class="pass"/><br>
                <button onclick="login()">Login</button>
            </form>
            <p class="no_account">Don't have an account?</p>
            <a href="signup.html" class="no_account">Sign Up!</a>
        </main>
        <footer>
            <p>We hope you like Book Buddy!</p>
            <p>Contact us at <a href="mailto: roeboattech@gmail.com">roeboattech@gmail.com</a>!</p>
        </footer>
    </body>
</html>